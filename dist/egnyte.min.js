// egnyte-js-sdk v1.0.1 (2014-10-06) 
// license:Apache2 
// ztenerowicz@egnyte.com 
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){!function(a){function b(a){return"function"==typeof a}function c(a){return"object"==typeof a}function d(a){"undefined"!=typeof setImmediate?setImmediate(a):"undefined"!=typeof process&&process.nextTick?process.nextTick(a):setTimeout(a,0)}var e;a[0][a[1]]=function f(a){var g,h=[],i=[],j=function(a,b){return null==g&&null!=a&&(g=a,h=b,i.length&&d(function(){for(var a=0;a<i.length;a++)i[a]()})),g};return j.then=function(j,k){var l=f(a),m=function(){function a(d){var f,g=0;try{if(d&&(c(d)||b(d))&&b(f=d.then)){if(d===l)throw new TypeError;f.call(d,function(){g++||a.apply(e,arguments)},function(a){g++||l(!1,[a])})}else l(!0,arguments)}catch(h){g++||l(!1,[h])}}try{var d=g?j:k;b(d)?a(d.apply(e,h||[])):l(g,h)}catch(f){l(!1,[f])}};return null!=g?d(m):i.push(m),l},a&&(j=a(j)),j}}("undefined"==typeof b?[window,"pinkySwear"]:[b,"exports"])},{}],2:[function(a,b){var c,d="undefined"!=typeof window?window.navigator.userAgent:"",e=/OS X/.test(d),f=/Opera/.test(d),g=!/like Gecko/.test(d)&&!f,h=b.exports={0:e?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",27:"<escape>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:e?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num-->",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:e&&g?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:f?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(c=58;65>c;++c)h[c]=String.fromCharCode(c);for(c=48;58>c;++c)h[c]=c-48+"";for(c=65;91>c;++c)h[c]=String.fromCharCode(c);for(c=96;106>c;++c)h[c]="<num-"+(c-96)+">";for(c=112;136>c;++c)h[c]="F"+(c-111)},{}],3:[function(a,b){function c(a,b){function c(){4===p.readyState&&x()}function e(){var a=null;if(p.response?a=p.response:"text"!==p.responseType&&p.responseType||(a=p.responseText||p.responseXML),w)try{a=JSON.parse(a)}catch(b){}return a}function k(){return 1223===p.status?204:p.status}function l(a){var b=null;if(0===a||a>=400&&600>a){var c=("string"==typeof t?t:!1)||h[String(a).charAt(0)];b=new Error(c),b.statusCode=a}return b}function m(){var a=k(),c=l(a),d={body:e(),statusCode:a,statusText:p.statusText,raw:p};d.headers=p.getAllResponseHeaders?g(p.getAllResponseHeaders()):{},b(c,d,d.body)}function n(){var a=k(),c=l(a);p.status=p.statusCode=a,p.body=e(),p.headers=g(p.getAllResponseHeaders()),b(c,p,p.body)}function o(a){b(a,p)}"string"==typeof a&&(a={uri:a}),a=a||{},b=f(b);var p=a.xhr||null;p||(p=a.cors||a.useXDR?new j:new i);var q,r=p.url=a.uri||a.url,s=p.method=a.method||"GET",t=a.body||a.data,u=p.headers=a.headers||{},v=!!a.sync,w=!1,x=a.response?m:n;if("json"in a&&(w=!0,u.Accept="application/json","GET"!==s&&"HEAD"!==s&&(u["Content-Type"]="application/json",t=JSON.stringify(a.json))),p.onreadystatechange=c,p.onload=x,p.onerror=o,p.onprogress=function(){},p.ontimeout=d,p.open(s,r,!v),(a.withCredentials||a.cors&&a.withCredentials!==!1)&&(p.withCredentials=!0),v||(p.timeout="timeout"in a?a.timeout:5e3),p.setRequestHeader)for(q in u)u.hasOwnProperty(q)&&p.setRequestHeader(q,u[q]);else if(a.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in a&&(p.responseType=a.responseType),"beforeSend"in a&&"function"==typeof a.beforeSend&&a.beforeSend(p),p.send(t),p}function d(){}var e=a(1),f=a(2),g=a(3),h={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},i=e.XMLHttpRequest||d,j="withCredentials"in new i?i:e.XDomainRequest;b.exports=c},{1:4,2:5,3:9}],4:[function(a,b){b.exports="undefined"!=typeof window?window:"undefined"!=typeof global?global:{}},{}],5:[function(a,b){function c(a){var b=!1;return function(){return b?void 0:(b=!0,a.apply(this,arguments))}}b.exports=c,c.proto=c(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return c(this)},configurable:!0})})},{}],6:[function(a,b){function c(a,b,c){if(!g(b))throw new TypeError("iterator must be a function");arguments.length<3&&(c=this),"[object Array]"===h.call(a)?d(a,b,c):"string"==typeof a?e(a,b,c):f(a,b,c)}function d(a,b,c){for(var d=0,e=a.length;e>d;d++)i.call(a,d)&&b.call(c,a[d],d,a)}function e(a,b,c){for(var d=0,e=a.length;e>d;d++)b.call(c,a.charAt(d),d,a)}function f(a,b,c){for(var d in a)i.call(a,d)&&b.call(c,a[d],d,a)}var g=a(1);b.exports=c;var h=Object.prototype.toString,i=Object.prototype.hasOwnProperty},{1:7}],7:[function(a,b){function c(a){var b=d.call(a);return"[object Function]"===b||"function"==typeof a&&"[object RegExp]"!==b||"undefined"!=typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)}b.exports=c;var d=Object.prototype.toString},{}],8:[function(a,b,c){function d(a){return a.replace(/^\s*|\s*$/g,"")}c=b.exports=d,c.left=function(a){return a.replace(/^\s*/,"")},c.right=function(a){return a.replace(/\s*$/,"")}},{}],9:[function(a,b){var c=a(2),d=a(1),e=function(a){return"[object Array]"===Object.prototype.toString.call(a)};b.exports=function(a){if(!a)return{};var b={};return d(c(a).split("\n"),function(a){var d=a.indexOf(":"),f=c(a.slice(0,d)).toLowerCase(),g=c(a.slice(d+1));"undefined"==typeof b[f]?b[f]=g:e(b[f])?b[f].push(g):b[f]=[b[f],g]}),b}},{1:6,2:8}],10:[function(a,b){b.exports={handleQuota:!0,QPS:2,forwarderAddress:"app/integ/forwarder/1.0/apiForwarder.html",filepickerViewAddress:"register.do?ref=folder-explorer",channelMarker:"'E",httpRequest:null,oldIEForwarder:!1}},{}],11:[function(a){!function(){"use strict";function b(b,e){var f=c.extend({},d,e);f.egnyteDomainURL=c.normalizeURL(b);var g=a(2)(f);return{domain:f.egnyteDomainURL,filePicker:a(3)(g),filePickerRemote:a(4)(f),API:g}}var c=a(5),d=a(1);window.Egnyte={init:b}}()},{1:10,2:12,3:21,4:22,5:30}],12:[function(a,b){var c=a(3),d=a(1),e=a(4),f=a(2);b.exports=function(b){var g=new d(b),h=new c(g,b),i=new e(h),j=new f(h),k={auth:g,storage:i,link:j};if(!("withCredentials"in new window.XMLHttpRequest))if(b.acceptForwarding){var l=a(5);l(b,k)}else if(b.oldIEForwarder){var m=a(6);m(b,k)}return k.manual=h,k}},{1:13,2:16,3:17,4:18,5:19,6:20}],13:[function(a,b){function c(a){this.options=a,this.options.token&&(this.token=this.options.token),this.userInfo=null,this.getUserInfo=g.bindThis(this,this.getUserInfo)}var d=/access_token=([^&]+)/,e=/\?error=access_denied/,f=a(5),g=a(2),h=a(1),i=a(3),j=(a(4),{});j._reloadForToken=function(){window.location.href=this.options.egnyteDomainURL+"/puboauth/token?client_id="+this.options.key+"&mobile="+~~this.options.mobile+"&redirect_uri="+window.location.href},j._checkTokenResponse=function(a,b,c,f){var g=f||window;if(this.token)a&&a();else{this.userInfo=null;var h=d.exec(g.location.hash);h?h.length>1&&(this.token=h[1],a&&a()):e.test(g.location.href)?b&&b():c&&c()}},j.requestTokenReload=function(a,b){this._checkTokenResponse(a,b,g.bindThis(this,this._reloadForToken))},j.requestTokenIframe=function(a,b,c,d){if(this.token)b();else{var e=this,f=window.location;d=d?f.protocol+"//"+f.host+d:f.href;var g=this.options.egnyteDomainURL+"/puboauth/token?client_id="+this.options.key+"&mobile="+~~this.options.mobile+"&redirect_uri="+d,i=h.createFrame(g,!0);i.onload=function(){try{var d=i.contentWindow.location,f={location:{hash:""+d.hash,href:""+d.href}};e._checkTokenResponse(function(){i.src="",a.removeChild(i),b()},function(){i.src="",a.removeChild(i),c()},null,f)}catch(g){}},a.appendChild(i)}},j._postTokenUp=function(){var a=this;if(!this.token&&window.name===this.options.channelMarker){var b={marker:this.options.channelMarker,sourceOrigin:this.options.egnyteDomainURL};this._checkTokenResponse(function(){i.sendMessage(window.opener,b,"token",a.token)},function(){i.sendMessage(window.opener,b,"denied","")})}},j.requestTokenPopup=function(a,b,c){var d=this;if(this.token)a();else{var e=this.options.egnyteDomainURL+"/puboauth/token?client_id="+this.options.key+"&mobile="+~~this.options.mobile+"&redirect_uri="+c,f=window.open(e);f.name=this.options.channelMarker;var g=i.createMessageHandler(null,this.options.channelMarker,function(c){j.destroy(),f.close(),"token"===c.action&&(d.token=c.data,a&&a()),"denied"===c.action&&b&&b()}),j=h.addListener(window,"message",g)}},j.authorizeXHR=function(a){a.setRequestHeader("Authorization","Bearer "+this.token)},j.getHeaders=function(){return{Authorization:"Bearer "+this.token}},j.isAuthorized=function(){return!!this.token},j.getToken=function(){return this.token},j.setToken=function(a){this.token=a},j.dropToken=function(){this.token=null},j.addRequestEngine=function(a){this.requestEngine=a},j.getUserInfo=function(){var a=this;return a.userInfo||!this.requestEngine?f(!0).then(function(){return a.userInfo}):this.requestEngine.promiseRequest({method:"GET",url:this.requestEngine.getEndpoint()+"/userinfo"}).then(function(b){return a.userInfo=b.body,b.body})},c.prototype=j,b.exports=c},{1:29,2:30,3:31,4:15,5:28}],14:[function(a,b){var c=a(1),d={impersonate:function(a,b){return a.headers||(a.headers={}),a.headers["X-Egnyte-Act-As"]=b,a}};b.exports={install:function(a){a._decorations={},c.each(d,function(b,c){a[c]=function(b){return a._decorations[c]=b,a}}),a.getDecorator=function(){var b=a._decorations;return a._decorations={},function(a){return c.each(d,function(c,d){void 0!==b[d]&&(a=c(a,b[d]))}),a}}}}},{1:30}],15:[function(a,b){function c(a){var b;for(var d in a){if(e[d])return a[d];if("object"==typeof a[d]&&(b=c(a[d])))return b}}function d(a,b){var d;if("string"==typeof a){try{d=c(JSON.parse(a)),d||(d=a)}catch(e){d=a?a.replace(f,"$1"):"Unknown error"}404===b&&a.length>300&&(d="Not found")}else d=c(a);return d}var e={msg:1,message:1,errorMessage:1},f=/^\s*<h1>([^<]*)<\/h1>\s*$/gi;b.exports=function(a){var b,c;return a.response?(c=~~a.response.statusCode,b=a.error,b.statusCode=c,b.message=d(a.body||a.error.message,c),b.response=a.response,b.body=a.body):(b=a.error,b.statusCode=0),b}},{}],16:[function(a,b){function c(a){this.requestEngine=a,f.install(this)}var d=a(3),e=a(1),f=a(2),g="/links",h={};h.createLink=function(a){var b=this.requestEngine,c=this.getDecorator(),f={path:null,type:"file",accessibility:"domain"};return d(!0).then(function(){if(a=e.extend(f,a),a.path=e.encodeNameSafe(a.path),!a.path)throw new Error("Path attribute missing or incorrect");return b.promiseRequest(c({method:"POST",url:b.getEndpoint()+g,json:a}))}).then(function(a){return a.body})},h.removeLink=function(a){var b=this.requestEngine,c=this.getDecorator();return b.promiseRequest(c({method:"DELETE",url:b.getEndpoint()+g+"/"+a})).then(function(a){return a.response.statusCode})},h.listLink=function(a){var b=this.requestEngine,c=this.getDecorator();return b.promiseRequest(c({method:"GET",url:b.getEndpoint()+g+"/"+a})).then(function(a){return a.body})},h.listLinks=function(a){var b=this.requestEngine,c=this.getDecorator();return d(!0).then(function(){return a.path=a.path&&e.encodeNameSafe(a.path),b.promiseRequest(c({method:"get",url:b.getEndpoint()+g,params:a}))}).then(function(a){return a.body})},h.findOne=function(a){var b=this;return b.listLinks(a).then(function(a){return a.ids&&a.ids.length>0?b.listLink(a.ids[0]):null})},c.prototype=h,b.exports=c},{1:30,2:14,3:28}],17:[function(a,b){function c(a,b){this.auth=a,this.options=b,this.requestHandler=b.httpRequest?b.httpRequest:j,this.quota={startOfTheSecond:0,calls:0,retrying:0},this.queue=[],this.queueHandler=h.bindThis(this,e),a.addRequestEngine(this)}function d(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.length?"?"+b.join("&"):""}function e(){if(this.queue.length){var a=f(this.quota,this.options.QPS);if(0===a){var b=this.queue.shift();b(),this.quota.calls++}this.quota.to=setTimeout(this.queueHandler,a)}}function f(a,b){var c=+new Date,d=c-a.startOfTheSecond;return a.retrying?(a.startOfTheSecond=c+a.retrying,a.retrying+1):d>1e3?(a.startOfTheSecond=c,a.calls=0,0):a.calls<b?0:1001-d}var g=a(5),h=a(2),i=(a(1),a(3),a(4)),j=a(6),k={};k.getEndpoint=function(){return this.options.egnyteDomainURL+"/pubapi/v1"},k.promise=function(a){return g(a)},k.sendRequest=function(a,b){var c=this,e=h.extend({},a);if("undefined"!=typeof window&&window.XDomainRequest&&(a.response=!0),this.auth.isAuthorized()){if(a.url+=d(a.params),a.headers=a.headers||{},a.headers.Authorization="Bearer "+this.auth.getToken(),b){var f=function(){c.sendRequest(e,c.retryHandler(b,f))};return c.requestHandler(a,c.retryHandler(b,f))}return c.requestHandler(a)}b.call(this,new Error("Not authorized"),{statusCode:0},null)},k.retryHandler=function(a,b){var c=this;return function(d,e,f){!d&&e.statusCode>=400&&e.statusCode<600&&(d=new Error(f));try{f=JSON.parse(f)}catch(g){}var h=e.headers["retry-after"],i=e.headers["x-mashery-error-code"];h="array"==typeof h?h[0]:h,i="array"==typeof i?i[0]:i,c.options.handleQuota&&403===e.statusCode&&h?("ERR_403_DEVELOPER_OVER_QPS"===i&&(console&&console.warn("developer over QPS, retrying"),c.quota.retrying=1e3*~~h,setTimeout(function(){c.quota.retrying=0,b()},c.quota.retrying)),"ERR_403_DEVELOPER_OVER_RATE"===i&&(d.RATE=!0,a.call(this,d,e,f))):(c.options.onInvalidToken&&(401===e.statusCode||403===e.statusCode&&"ERR_403_DEVELOPER_INACTIVE"===i)&&(c.auth.dropToken(),c.options.onInvalidToken()),a.call(this,d,e,f))}},k.retrieveStreamFromRequest=function(a){var b=g.defer(),c=this,d=function(){try{var d=c.sendRequest(a);b.resolve(d)}catch(e){b.reject(i({error:e}))}};return this.options.handleQuota?(this.queue.push(d),clearTimeout(this.quota.to),this.queueHandler()):d(),b.promise},k.promiseRequest=function(a,b){var c=g.defer(),d=this,e=function(){try{var e=d.sendRequest(a,function(a,b,d){a?c.reject(i({error:a,response:b,body:d})):c.resolve({response:b,body:d})});b&&b(e)}catch(f){c.reject(i({error:f}))}};return this.options.handleQuota?(this.queue.push(e),clearTimeout(this.quota.to),this.queueHandler()):e(),c.promise},c.prototype=k,b.exports=c},{1:29,2:30,3:31,4:15,5:28,6:3}],18:[function(a,b){function c(a){this.requestEngine=a,h.install(this)}function d(a,b,c,d,e){return f(!0).then(function(){if(!d)throw new Error("Cannot move to empty path");c=g.encodeNameSafe(c),d=g.encodeNameSafe(d);var f={method:"POST",url:a.getEndpoint()+i.fsmeta+encodeURI(c),json:{action:e,destination:"/"+d}};return a.promiseRequest(b(f))}).then(function(a){return 200==a.response.statusCode?{oldPath:c,path:d}:void 0})}function e(a,b,c,d){return f(!0).then(function(){c=g.encodeNameSafe(c)||"";var e={method:"DELETE",url:a.getEndpoint()+i.fsmeta+encodeURI(c)};return d&&(e.params=e.qs={entry_id:d}),a.promiseRequest(b(e))}).then(function(a){return a.response.statusCode})}var f=a(3),g=a(1),h=a(2),i={fsmeta:"/fs",fscontent:"/fs-content",notes:"/notes"},j={};j.exists=function(a,b){var c=this.requestEngine,d=this.getDecorator();return f(!0).then(function(){a=g.encodeNameSafe(a);var e={method:"GET",url:c.getEndpoint()+i.fsmeta+encodeURI(a)};return b&&(e.params=e.qs={entry_id:b}),c.promiseRequest(d(e))}).then(function(a){return 200==a.response.statusCode?!0:!1},function(a){if(a.response&&404==a.response.statusCode)return!1;throw a})},j.get=function(a,b){var c=this.requestEngine,d=this.getDecorator();return f(!0).then(function(){a=g.encodeNameSafe(a);var e={method:"GET",url:c.getEndpoint()+i.fsmeta+encodeURI(a)};return b&&(e.params=e.qs={entry_id:b}),c.promiseRequest(d(e))}).then(function(a){return a.body})},j.download=function(a,b,c){var d=this.requestEngine,e=this.getDecorator();return f(!0).then(function(){a=g.encodeNameSafe(a);var f={method:"GET",url:d.getEndpoint()+i.fscontent+encodeURI(a)};return b&&(f.params=f.qs={entry_id:b}),c&&(f.responseType="arraybuffer"),d.promiseRequest(e(f))}).then(function(a){return a.response})},j.createFolder=function(a){var b=this.requestEngine,c=this.getDecorator();return f(!0).then(function(){a=g.encodeNameSafe(a);var d={method:"POST",url:b.getEndpoint()+i.fsmeta+encodeURI(a),json:{action:"add_folder"}};return b.promiseRequest(c(d))}).then(function(b){return 201==b.response.statusCode?{id:b.response.headers.etag,path:a}:void 0})},j.move=j.rename=function(a,b){return d(this.requestEngine,this.getDecorator(),a,b,"move")},j.copy=function(a,b){return d(this.requestEngine,this.getDecorator(),a,b,"copy")},j.storeFile=function(a,b,c){var d=this.requestEngine,e=this.getDecorator();return f(!0).then(function(){var f=b;a=g.encodeNameSafe(a)||"";var h={method:"POST",url:d.getEndpoint()+i.fscontent+encodeURI(a),body:f};return h.headers={},c&&(h.headers["Content-Type"]=c),d.promiseRequest(e(h))}).then(function(b){return{id:b.response.headers.etag,path:a}})},j.removeFileVersion=function(a,b){var c=this.requestEngine,d=this.getDecorator();return f(!0).then(function(){if(!b)throw new Error("Version ID (second argument) is missing");return e(c,d,a,b)})},j.remove=function(a){var b=this.getDecorator();return e(this.requestEngine,b,a)},j.addNote=function(a,b){var c=this.requestEngine,d=this.getDecorator();return f(!0).then(function(){a=g.encodeNameSafe(a);var e={method:"POST",url:c.getEndpoint()+i.notes,json:{path:a,body:b}};return c.promiseRequest(d(e))}).then(function(a){return{id:a.response.headers.location.replace(/^.*\/([^/]+)$/,"$1")}})},j.listNotes=function(a,b){var c=this.requestEngine,d=this.getDecorator();return f(!0).then(function(){a=g.encodeNameSafe(a);var e={method:"GET",url:c.getEndpoint()+i.notes};return e.params=e.qs=g.extend({file:encodeURI(a)},b),c.promiseRequest(d(e))})},j.getNote=function(a){var b=this.requestEngine,c=this.getDecorator();return f(!0).then(function(){var d={method:"POST",url:b.getEndpoint()+i.notes+encodeURI(a)};return b.promiseRequest(c(d))})},j.removeNote=function(a){var b=this.requestEngine,c=this.getDecorator();return f(!0).then(function(){var d={method:"DELETE",url:b.getEndpoint()+i.notes+encodeURI(a)};return b.promiseRequest(c(d))})},c.prototype=j,b.exports=c},{1:30,2:14,3:28}],19:[function(a,b){function c(a){var b={};for(var c in a)"function"!=typeof a[c]&&"headers"!==c&&(b[c]=a[c]);return b}function d(a,b){function d(a){if(a.action&&"call"===a.action){var d=a.data;b[d.ns]&&b[d.ns][d.name]?(b.auth.setToken(d.token),b[d.ns][d.name].apply(b[d.ns],d.args).then(function(a){a instanceof XMLHttpRequest&&(a=c(a)),f.sendMessage(window.parent,g,"result",{status:!0,resolution:a,uid:d.uid})},function(a){f.sendMessage(window.parent,g,"result",{status:!1,resolution:a,uid:d.uid})})):f.sendMessage(window.parent,g,"nomethod",{uid:d.uid})}}var g;g={marker:a.channelMarker,sourceOrigin:a.egnyteDomainURL},g.handler=f.createMessageHandler(null,g.marker,d),g._evListener=e.addListener(window,"message",g.handler)}var e=(a(2),a(1)),f=a(3);b.exports=d},{1:29,2:30,3:31}],20:[function(a,b){function c(a){var b=a.data;a.action&&a.data&&m[b.uid]&&("result"===a.action&&(m[b.uid](b.status,b.resolution),m[b.uid]=null),"nomethod"===a.action&&(m[b.uid]=null))}function d(){return""+~~(9999999*Math.random())+~~(9999999*Math.random())}function e(a,b,c,e,f,g){var h=d();m[h]=g,l.sendMessage(a.iframe.contentWindow,a,"call",{ns:b,name:c,args:f,token:e,uid:h},n)}function f(a,b,c,d){return function(){var f=Array.prototype.slice.call(arguments,0),g=i.defer();return c.ready.promise.then(function(){e(c,a,b,d(),f,function(a,b){a?g.resolve(b):g.reject(b)})}),g.promise}}function g(a,b){var c=function(c,d){a[c][d]=f(c,d,b,function(){return a.auth.getToken()})};j.each(a,function(a,b){if("auth"!==b)for(var d in a)c(b,d)}),c("auth","getUserInfo");var d=a.destroy;return a.destroy=function(){return b._evListener.destroy(),b.iframe.parentNode.removeChild(b.iframe),d?d.apply(a,arguments):void 0},a}function h(a,b){n=a.egnyteDomainURL;var d,e;e={marker:a.channelMarker,sourceOrigin:a.egnyteDomainURL,ready:i.defer()},e.handler=l.createMessageHandler(e.sourceOrigin,e.marker,c),e._evListener=k.addListener(window,"message",e.handler),d=k.createFrame(a.egnyteDomainURL+"/"+a.forwarderAddress),d.style.display="none";var f=function(){setTimeout(function(){e.ready.resolve()},50)};d.addEventListener?d.addEventListener("load",f,!1):d.attachEvent&&d.attachEvent("onload",f);var h=document.body||document.getElementsByTagName("body")[0];return h.appendChild(d),e.iframe=d,g(b,e)}var i=a(4),j=a(2),k=a(1),l=a(3),m={},n="";b.exports=h},{1:29,2:30,3:31,4:28}],21:[function(a,b){!function(){function c(a,b){return"goog"!==b}function d(a){var b;return b=function(b,d){if(!d)throw new Error("Setup required as a second argument");var h,i,j,k,l={folder:!0,file:!0,multiple:!0},m=e.extend(l,d.select);return h=function(){j.destroy(),j=null,k=null},i=function(a){k.fetch(a||"/")},k=new g(a,{select:m,filterExtensions:"undefined"==typeof d.filterExtensions?c:d.filterExtensions}),j=new f({el:b,model:k,barAlign:d.barAlign,handlers:{ready:d.ready,selection:function(a){h(),d.selection&&d.selection(a)},close:function(a){h(),d.cancel&&d.cancel(a)},error:d.error},keys:d.keys},d.texts),i(d.path||"/"),{openPath:i,close:h}}}var e=a(4),f=(a(3),a(2)),g=a(1);b.exports=d}()},{1:25,2:26,3:29,4:30}],22:[function(a,b){!function(){function c(a,b){a.handler=i.createMessageHandler(a.sourceOrigin,a.marker,b),a._evListener=h.addListener(window,"message",a.handler)}function d(a,b){a._evListener.destroy(),b.parentNode&&b.parentNode.removeChild(b)}function e(a,b){return function(c){var d;if(c.action)switch(b.hasOwnProperty(c.action)&&b[c.action]&&b[c.action].call&&(d=b[c.action](c.data)),c.action){case"selection":d!==!1&&a();break;case"cancel":a()}}}function f(a){var b,f=!1;return b=function(b,j){if(!j)throw new Error("Setup required as a second argument");var k,l={marker:a.channelMarker,sourceOrigin:a.egnyteDomainURL},m=function(){j.path&&i.sendMessage(k.contentWindow,l,"openAt",j.path)},n=function(){d(l,k)};return k=h.createFrame(a.egnyteDomainURL+"/"+a.filepickerViewAddress),c(l,e(n,{selection:j.selection||g.noop,cancel:j.cancel||g.noop,ready:function(){f=!0,m(),j.ready||j.ready()}})),b.appendChild(k),{close:n}}}var g=a(2),h=a(1),i=a(3);b.exports=f}()},{1:29,2:30,3:31}],23:[function(a,b){b.exports={404:"This item doesn't exist (404)",403:"Access denied (403)",409:"Forbidden location (409)",596:"Path contains an unexpected character (596)","4XX":"Incorrect API request","5XX":"API server error, try again later",R:"API use limit reached",0:"Browser error, try again","?":"Unknown error"}},{}],24:[function(a,b){function c(a){return h[a]||"unknown"}function d(a){var b=a.split(".");return b.length>1?b[b.length-1]:""}function e(a){return c(d(a))}function f(a){return function(b){var e=d(b.name);return a(e,c(e))}}var g=a(1),h={};g.each({audio:["mp3","wav","wma","aiff","mid","midi","mp2"],video:["wmv","avi","mpg","mpeg","mp4","webm","ogv","flv","mov"],pdf:["pdf"],word_processing:["doc","dot","docx","dotx","docm","dotm","odtÂ ","ott","oth","odm","sxw","stw","sxg","sdw","sgl","rtf","hwp","uot","wpd","wps"],spreadsheet:["123","xls","xlt","xla","xlsx","xltx","xlsm","xltm","xlam","xlsb","ods","fods","ots","sxc","stc","sdc","csv","uos"],presentation:["ppt","pot","pps","ppa","pptx","potx","ppsx","ppam","pptm","potm","ppsm","odp","fodp","otp","sxi","sti","sdd","sdp"],cad:["dwg","dwf","dxf","sldprt","sldasm","slddrw"],text:["txt","log"],image:["odg","otg","odi","sxd","std","sda","svm","jpg","jpeg","png","gif","bmp","tif","tiff","psd","eps","tga","wmf","ai","cgm","fodg","jfif","pbm","pcd","pct","pcx","pgm","ppm","ras","sgf","svg"],code:["html","htm","sql","xml","java","cpp","c","perl","py","rb","php","js","css","applescript","as3","as","bash","shell","sh","cfm","cfml","cs","pas","dcu","diff","patch","ez","erl","groovy","gvy","gy","gsh","javafx","jfx","pl","pm","ps1","ruby","sass","scss","scala","vb","vbscript","xhtml","xslt"],archive:["zip","rar","tar","gz","7z","bz2","z","xz","ace","sit","sitx","tgz","apk"],goog:["gdoc","gsheet","gslides","gdraw"]},function(a,b){g.each(a,function(a){h[a]=b})}),b.exports={getMime:e,getExt:d,getExtensionFilter:f}},{1:30}],25:[function(a,b){function c(a,b){this.data=a,this.data.is_folder?(this.ext="",this.mime="unknown"):(this.ext=f.getExt(a.name).substr(0,3),this.mime=f.getMime(a.name)),this.isSelectable=b.opts.select.folder&&a.is_folder||b.opts.select.file&&!a.is_folder,this.parent=b,this.isCurrent=!1}function d(a,b){this.opts=b,this.API=a,this.page=1,this.pageSize=200,b.filterExtensions&&(this.fileFilter=f.getExtensionFilter(b.filterExtensions))}var e=a(1),f=a(2);c.prototype.defaultAction=function(){this.data.is_folder?this.parent.fetch(this.data.path):this.toggleSelect()},c.prototype.toggleSelect=function(){this.isSelectable&&(this.parent.opts.select.multiple||this.parent.deselect(),this.selected=!this.selected,this.onchange(),this.parent.onchange())},d.prototype.onloading=e.noop,d.prototype.onupdate=e.noop,d.prototype.onerror=e.noop,d.prototype._set=function(a){var b=this;this.path=a.path,this.page=1,this.rawItems=[],e.each(a.folders,function(a){b.rawItems.push(a)}),this.opts.select.file&&e.each(a.files,function(a){(!b.fileFilter||b.fileFilter(a))&&b.rawItems.push(a)}),this.totalPages=~~(this.rawItems.length/this.pageSize)+1,this.isMultiselectable=this.opts.select.multiple,this._buildItems()},d.prototype._buildItems=function(){var a=this;if(this.currentItem=-1,this.items=[],this.hasPages=this.rawItems.length>this.pageSize,0===this.rawItems.length)this.isEmpty=!0;else{this.isEmpty=!1;var b=this.rawItems.slice((this.page-1)*this.pageSize,this.page*this.pageSize);e.each(b,function(b){a.items.push(new c(b,a))})}this.onupdate(),this.onchange()},d.prototype.fetch=function(a){var b=this;b.processing||(b.processing=!0,a&&(b.path=a),b.onloading(),b.API.storage.get(b.path).then(function(a){b.processing=!1,b._set(a)}).fail(function(a){b.processing=!1,b.onerror(a)}))},d.prototype.switchPage=function(a){var b=this.page+a;b<=this.totalPages&&b>0&&(this.page=b,this._buildItems())},d.prototype.goUp=function(){var a=this.path.replace(/\/[^\/]+\/?$/i,"")||"/";a!==this.path&&this.fetch(a)},d.prototype.getSelected=function(){var a=[];return e.each(this.items,function(b){b.selected&&a.push(b.data)}),a},d.prototype.deselect=function(){e.each(this.items,function(a){a.selected&&(a.selected=!1,a.onchange())})},d.prototype.setAllSelection=function(a){e.each(this.items,function(b){b.selected=a,b.onchange()}),this.onchange()},d.prototype.mvCurrent=function(a){this.currentItem+a<this.items.length&&this.currentItem+a>=0&&(this.items[this.currentItem]&&(this.items[this.currentItem].isCurrent=!1,this.items[this.currentItem].onchange()),this.currentItem+=a,this.items[this.currentItem].isCurrent=!0,this.items[this.currentItem].onchange())},d.prototype.getCurrent=function(){return this.items[this.currentItem]},b.exports=d},{1:30,2:24}],26:[function(a,b){"use strict";function c(a,b){var c=this;this.uid=Math.random(),j=this.uid,this.el=a.el,this.evs=[];var i=this.els={};if(a.noFont||d(),this.txt=g(b),this.bottomBarClass="left"===a.barAlign?"":".eg-bar-right",this.handlers=f.extend({selection:f.noop,events:f.noop,close:f.noop,error:null},a.handlers),this.model=a.model,this.model.onloading=f.bindThis(c,c.renderLoading),this.model.onupdate=function(){if(c.handlers.events("beforeRender",c.model),c.render(),c.handlers.events("render",c.model),c.handlers.ready){var a=c.handlers.ready;c.handlers.ready=null,setTimeout(a,0)}},this.model.onerror=f.bindThis(this,this.errorHandler),this.model.onchange=function(){c.model.getSelected().length>0?c.els.ok.removeAttribute("disabled"):c.els.ok.setAttribute("disabled","")},i.back=h([["a.eg-picker-back.eg-btn[title=back]"]]).childNodes[0],i.close=h([["a.eg-picker-close.eg-btn",this.txt("Cancel")]]).childNodes[0],i.ok=h([["span.eg-picker-ok.eg-btn",this.txt("Ok")]]).childNodes[0],i.pgup=h([["span.eg-picker-pgup.eg-btn",">"]]).childNodes[0],i.pgdown=h([["span.eg-picker-pgup.eg-btn","<"]]).childNodes[0],i.crumb=h([["span.eg-picker-path"]]).childNodes[0],i.selectAll=h([["input[type=checkbox]",{title:this.txt("Select all")}]]).childNodes[0],this.handleClick(this.el,c.focused),this.handleClick(i.back,c.goUp),this.handleClick(i.close,function(){c.handlers.close()}),this.handleClick(i.ok,c.confirmSelection),this.handleClick(i.crumb,c.crumbNav),this.handleClick(i.selectAll,function(a){c.model.setAllSelection(!!a.target.checked)}),this.handleClick(i.pgup,function(){c.model.switchPage(1)}),this.handleClick(i.pgdown,function(){c.model.switchPage(-1)}),a.keys!==!1){var k=f.extend({up:"<up>",down:"<down>",select:"<space>",explore:"<right>",back:"<left>",confirm:"none",close:"<escape>"},a.keys),l={};l[k.up]=f.bindThis(c,c.kbNav_up),l[k.down]=f.bindThis(c,c.kbNav_down),l[k.select]=f.bindThis(c,c.kbNav_select),l[k.explore]=f.bindThis(c,c.kbNav_explore),l[k.back]=f.bindThis(c.model,c.model.goUp),l[k.confirm]=f.bindThis(c,c.confirmSelection),l[k.close]=f.bindThis(c,c.handlers.close),document.activeElement&&document.activeElement.blur(),this.evs.push(e.onKeys(document,l,f.bindThis(c,c.hasFocus)))}}function d(){i||(document.getElementsByTagName("head")[0].appendChild(h([["link",{href:"https://fonts.googleapis.com/css?family=Open+Sans:400,600",type:"text/css",rel:"stylesheet"}]])),i=!0)}var e=a(2),f=a(3),g=a(4),h=a(1);a(6);var i=!1,j="no",k={};k.destroy=function(){f.each(this.evs,function(a){a.destroy()}),this.evs=null,this.el.innerHTML="",this.el=null,this.els=null,this.model=null,this.handlers=null},k.handleClick=function(a,b){this.evs.push(e.addListener(a,"click",f.bindThis(this,b)))},k.errorHandler=function(a){if(this.handlers.error){var b=this.handlers.error(a);if("string"==typeof b)return void this.renderProblem("*",b);if(b===!1)return}this.renderProblem(a.RATE?"R":a.statusCode,a.message)},k.render=function(){var a=this,b=this.els;b.list=document.createElement("ul");var c=["div.eg-picker-bar.eg-top"];this.model.isMultiselectable&&(b.selectAll.checked=!1,c.push(b.selectAll)),c.push(b.back),c.push(b.crumb),c=h([c]).childNodes[0];var d=h([["div.eg-theme.eg-picker",c,b.list,["div.eg-picker-bar"+this.bottomBarClass,b.ok,b.close,["div.eg-picker-pager"+(this.model.hasPages?"":".eg-not"),b.pgdown,["span",this.model.page+"/"+this.model.totalPages],b.pgup]]]]);this.el.innerHTML="",this.el.appendChild(d),b.list.style.height=this.el.offsetHeight-2*c.offsetHeight+"px",this.breadcrumbify(this.model.path),this.model.isEmpty?this.renderEmpty():f.each(this.model.items,function(b){a.renderItem(b)})},k.renderItem=function(a){var b=this,c=h([["a.eg-picker-name"+(a.data.is_folder?".eg-folder":".eg-file"),{title:a.data.name},["span.eg-ico.eg-mime-"+a.mime,{"data-ext":a.ext},["span",a.ext]],a.data.name]]).childNodes[0],d=h([["input[type=checkbox]"+(a.isSelectable?"":".eg-not")]]).childNodes[0];d.checked=a.selected;var f=h([["li.eg-picker-item",d,c]]).childNodes[0];
e.addListener(c,"click",function(b){return b.stopPropagation&&b.stopPropagation(),a.defaultAction(),!1}),e.addListener(f,"click",function(){a.toggleSelect()}),a.onchange=function(){if(b.handlers.events("itemChange",a),d.checked=a.selected,f.setAttribute("aria-selected",a.isCurrent),a.isCurrent)try{b.els.list.scrollTop=f.offsetTop-b.els.list.offsetHeight}catch(c){}},this.els.list.appendChild(f)},k.breadcrumbify=function(a){var b="/";a=a||b;var c=a.split("/"),d=[],e=~~(100/c.length);f.each(c,function(a,c){a?(b+=a+"/",c>1&&d.push(["span","/"]),d.push(["a",{"data-path":b,title:a,style:"max-width:"+e+"%"},a])):0===c&&d.push(["a",{"data-path":b},"/"])}),this.els.crumb.innerHTML="",this.els.crumb.appendChild(h([d]))},k.renderLoading=function(){this.els.list&&(this.els.list.innerHTML="",this.els.list.appendChild(h([["div.eg-placeholder",["div.eg-spinner"],this.txt("Loading")]])))};var l=a(5);k.renderProblem=function(a,b){b=l[""+a]||l[~(a/100)+"XX"]||b||l["?"],this.els.list?(this.els.list.innerHTML="",this.els.list.appendChild(h([["div.eg-placeholder",["div.eg-picker-error"],b]]))):this.handlers.close({message:b})},k.renderEmpty=function(){this.els.list&&(this.els.list.innerHTML="",this.els.list.appendChild(h([["div.eg-placeholder.eg-folder",["div.eg-ico"],this.txt("This folder is empty")]])))},k.hasFocus=function(){return j===this.uid},k.focused=function(){j=this.uid},k.goUp=function(){this.model.goUp()},k.confirmSelection=function(){var a=this.model.getSelected();a&&a.length&&this.handlers.selection.call(this,this.model.getSelected())},k.crumbNav=function(a){var b=a.target.getAttribute("data-path");b&&this.model.fetch(b)},k.kbNav_up=function(){this.model.mvCurrent(-1)},k.kbNav_down=function(){this.model.mvCurrent(1)},k.kbNav_select=function(){this.model.getCurrent().toggleSelect()},k.kbNav_confirm=function(){this.model.getCurrent().toggleSelect()},k.kbNav_explore=function(){var a=this.model.getCurrent();a.data.is_folder&&a.defaultAction()},c.prototype=k,b.exports=c},{1:33,2:29,3:30,4:32,5:23,6:27}],27:[function(){!function(){var a=document.getElementsByTagName("head")[0];style=document.createElement("style"),style.type="text/css";var b='.eg-btn{display:inline-block;line-height:20px;height:20px;text-align:center;margin:0 8px;cursor:pointer}span.eg-btn{padding:4px 15px;background:#fafafa;border:1px solid #ccc;border-radius:2px}span.eg-btn:hover{-webkit-box-shadow:inset 0 -20px 50px -60px #000;box-shadow:inset 0 -20px 50px -60px #000}span.eg-btn:active{-webkit-box-shadow:inset 0 1px 5px -4px #000;box-shadow:inset 0 1px 5px -4px #000}span.eg-btn[disabled]{opacity:.3}a.eg-btn{font-weight:600;padding:4px;border:1px solid transparent;text-decoration:underline}.eg-picker a{cursor:pointer}.eg-picker a:hover{text-decoration:underline}.eg-picker a.eg-file:hover{text-decoration:none}.eg-picker,.eg-picker-bar{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;overflow:hidden}.eg-picker{background:#fff;border:1px solid #dbdbdb;height:100%;min-height:300px;padding:0;color:#5e5f60;font-size:12px;font-family:\'Open Sans\',sans-serif}.eg-picker *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle}.eg-picker input{margin:10px 20px}.eg-picker ul{padding:0;margin:0;min-height:200px;overflow-y:scroll}.eg-picker-bar{z-index:1;height:50px;padding:10px;background:#f1f1f1;border:0 solid #dbdbdb;border-width:1px 0 0}.eg-picker-bar.eg-top{box-shadow:0 1px 3px 0 #f1f1f1;border-width:0 0 1px;padding-left:0;background:#fff}.eg-picker-bar>*{float:left}.eg-bar-right>*{float:right}.eg-not{visibility:hidden}.eg-picker-pager{float:right}.eg-bar-right>.eg-picker-pager{float:left}.eg-btn.eg-picker-ok{background:#3191f2;border-color:#2b82d9;color:#fff}.eg-picker-path{min-width:60%;width:calc(100% - 110px);line-height:30px;color:#777;font-size:14px}.eg-picker-path>a{margin:0 2px;white-space:nowrap;display:inline-block;overflow:hidden;text-overflow:ellipsis}.eg-picker-path>a:last-child{color:#5e5f60;font-size:16px}.eg-picker-item{line-height:40px;list-style:none;padding:4px 0;border-bottom:1px solid #f2f3f3}.eg-picker-item:hover{background:#f1f5f8;outline:1px solid #dbdbdb}.eg-picker-item[aria-selected=true]{background:#dde9f3}.eg-picker-item *{display:inline-block}.eg-picker-item>a{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:300px;max-width:calc(100% - 88px)}.eg-btn.eg-picker-back{padding:4px 10px;position:relative;color:#777}.eg-btn.eg-picker-back:hover{color:#4e4e4f}.eg-btn.eg-picker-back:before{content:"";display:block;left:4px;border-style:solid;border-width:0 0 3px 3px;transform:rotate(45deg);-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);width:7px;height:7px;padding:0;position:absolute;bottom:10px}@-webkit-keyframes egspin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes egspin{to{transform:rotate(360deg)}}.eg-placeholder{margin:33%;margin:calc(50% - 88px);margin-bottom:0;text-align:center;color:#777}.eg-placeholder>div{margin:0 auto 5px}.eg-placeholder>.eg-spinner{content:"";-webkit-animation:egspin 1s infinite linear;animation:egspin 1s infinite linear;width:30px;height:30px;border:solid 7px;border-radius:50%;border-color:transparent transparent #dbdbdb}.eg-picker-error:before{content:"?!";font-size:32px;border:2px solid #5e5f60;padding:0 10px}.eg-ico{margin-right:10px;position:relative;top:-2px}.eg-mime-audio{background:#94cbff}.eg-mime-video{background:#8f6bd1}.eg-mime-pdf{background:#e64e40}.eg-mime-word_processing{background:#4ca0e6}.eg-mime-spreadsheet{background:#6bd17f}.eg-mime-presentation{background:#fa8639}.eg-mime-cad{background:#f2d725}.eg-mime-text{background:#9e9e9e}.eg-mime-image{background:#d16bd0}.eg-mime-code{background:#a5d16b}.eg-mime-archive{background:#d19b6b}.eg-mime-goog{background:#0266C8}.eg-mime-unknown{background:#dbdbdb}.eg-file .eg-ico{width:40px;height:40px;text-align:right}.eg-file .eg-ico>span{text-align:center;font-size:13.33333333px;line-height:18px;font-weight:300;margin:10px 0;height:20px;width:32px;background:rgba(0,0,0,.15);color:#fff}.eg-folder .eg-ico{border:1px #d4d8bd solid;border-top:4px #dfe4b9 solid;margin-top:8.8px;height:24.6px;background:#f3f7d3;overflow:visible;width:38px}.eg-folder .eg-ico:before{display:block;position:absolute;top:-8px;left:-1px;border:#d1dabc 1px solid;border-bottom:0;border-radius:2px;background:#dfe4b9;content:" ";width:60%;height:4.4px}.eg-folder .eg-ico>span{display:none}';style.styleSheet?style.styleSheet.cssText=b:style.appendChild(document.createTextNode(b)),a.appendChild(style)}()},{}],28:[function(a,b){var c=a(1),d=function(a){return a.fail=function(b){return a.then(0,b)},a},e=function(a){var b=c(d);return b(a),b};e.defer=function(){var a=c(d);return{promise:a,resolve:function(b){a(!0,[b])},reject:function(b){a(!1,[b])}}},b.exports=e},{1:1}],29:[function(a,b){function c(a,b,c){var e;return a.addEventListener?(e=c,a.addEventListener(b,c,!1)):(e=function(a){a=a||window.event,a.target||(a.target=a.srcElement);var b=c.call(this,a);return b===!1&&(a.cancelBubble=!0),b},a.attachEvent("on"+b,e)),{destroy:function(){d(a,b,e)}}}function d(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent(b,c)}var e=a(1);b.exports={addListener:c,onKeys:function(a,b,d){return c(a,"keyup",function(a){return a.preventDefault&&a.preventDefault(),d()&&b[e[a.keyCode]]&&b[e[a.keyCode]](),!1})},createFrame:function(a,b){var c=document.createElement("iframe");return b||c.setAttribute("scrolling","no"),c.style.width="100%",c.style.height="100%",c.style.minWidth="400px",c.style.minHeight="400px",c.style.border="1px solid #dbdbdb",c.src=a,c}}},{1:2}],30:[function(a,b){function c(a,b){if(a)if(a.length===+a.length)for(var c=0;c<a.length;c++)b.call(null,a[c],c,a);else for(var c in a)a.hasOwnProperty(c)&&b.call(null,a[c],c,a)}var d=/[":<>|?*+&#\\]/;b.exports={extend:function(a){var b,c;for(b=1;b<arguments.length;b++)if(arguments[b])for(c in arguments[b])arguments[b].hasOwnProperty(c)&&"undefined"!=typeof arguments[b][c]&&(a[c]=arguments[b][c]);return a},noop:function(){},bindThis:function(a,b){return function(){return b.apply(a,arguments)}},each:c,normalizeURL:function(a){return a.replace(/\/*$/,"")},encodeNameSafe:function(a){if(!a)throw new Error("No name given");if(d.test(a))throw new Error("Disallowed characters in path");return a=a.replace(/^\/\//,"/")}}},{}],31:[function(a,b){function c(a,b,c){return function(d){if(!a||e.normalizeURL(d.origin)===e.normalizeURL(a)){var f=d.data;if(f.substr(0,b.length)===b){try{f=JSON.parse(f.substring(b.length))}catch(g){}f&&c(f)}}}}function d(a,b,c,d,e){var f,g="*";if("string"!=typeof c)throw new TypeError("only string is acceptable as action");if(e)g=e;else try{g=a.location.origin||a.location.protocol+"//"+a.location.hostname+(a.location.port?":"+a.location.port:"")}catch(h){}f=JSON.stringify({action:c,data:d}),f=f.replace(/(\r\n|\n|\r)/gm,""),a.postMessage(b.marker+f,g)}var e=a(1);b.exports={sendMessage:d,createMessageHandler:c}},{1:30}],32:[function(a,b){b.exports=function(a){return function(b){if(a){if(a[b])return a[b];if(a[b.toLowerCase()])return a[b.toLowerCase()]}return b}}},{}],33:[function(a,b){var c=function(){var a=function(a){return!!a&&"[object Object]"==Object.prototype.toString.call(a)&&!a.nodeType},b=function(a){return"[object Array]"==Object.prototype.toString.call(a)},c=function(a,b){var c;if(a)if(a.length)for(c=0;c<a.length;c++)b(a[c],c);else for(c in a)a.hasOwnProperty(c)&&b(a[c],c)},d=function(){var a={};return c(arguments,function(b){c(b,function(b,c){a[c]=b})}),a},e=function(a){var b={"\\[([a-z\\-]+)=([^\\]]+)\\]":function(a){var b={};return b[a[1]]=a[2].replace(/^["']/,"").replace(/["']$/,""),b},"#([a-zA-Z][a-zA-Z0-9\\-_]*)":function(a){return{id:a[1]}},"(\\.[a-zA-Z][a-zA-Z0-9\\-_]*)+":function(a){return{"class":a[0].substr(1).split(".").join(" ")}}},e={};return c(b,function(b,c){var f;for(c=new RegExp(c);c.test(a);)f=c.exec(a),a=a.replace(f[0],""),e=d(e,b(f))}),[a,e]},f=function(g,h){return h=h||document.createDocumentFragment(),c(g,function(g){var i,j,k;b(g)?"string"==typeof g[0]?(i=e(g.shift()),j=a(g[0])?g.shift():{},k=document.createElement(i[0]),c(d(i[1],j),function(a,b){k.setAttribute(b,a)}),h.appendChild(k),f(g,k)):f(g,h):g.nodeType?h.appendChild(g):("string"==typeof g||"number"==typeof g)&&h.appendChild(document.createTextNode(g))}),h};return f}();"undefined"!=typeof b&&(b.exports=c)},{}]},{},[11]);